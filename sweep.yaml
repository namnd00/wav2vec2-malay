program: train.py
project: wav2vec4malay
#metric:
#  name: wer
#  goal: minimize
parameters:
  learning_rate:
    value: 5e-5
  weight_decay:
    value: 0.005
  warmup_steps:
    value: 1000
  gradient_accumulation_steps:
    value: 1
  lr_scheduler_type:
    values:
      - cosine_with_restarts
command:
  - python
  - ${program}
  - "--model_name_or_path"
  - "facebook/wav2vec2-large-xlsr-53"
  - "--dataset_config_name"
  - "./datasets"
  - "--train_data_csv"
  - "./datasets/train_batch_1.csv"
  - "--train_data_dir"
  - "./datasets/train_batch_1"
  - "--eval_data_csv"
  - "./datasets/eval.csv"
  - "--eval_data_dir"
  - "./datasets/eval"
  - "--test_data_csv"
  - "./datasets/test.csv"
  - "--test_data_dir"
  - "./datasets/test"
  - "vocab_path"
  - "./datasets/vocab.json"
  - "preprocessing_num_workers"
  - 4
  - "--output_dir"
  - "./model"
  - "--overwrite_output_dir"
  - "--num_train_epochs"
  - 30
  - "--per_device_train_batch_size"
  - 16
  - "--per_device_eval_batch_size"
  - 16
  - "--fp16"
  - "--freeze_feature_extractor"
  - "--group_by_length"
  - "--gradient_checkpointing"
  - "--do_train"
  - "--do_eval"
  - "--save_total_limit"
  - 1
  - "--save_strategy"
  - "epoch"
  - "--evaluation_strategy"
  - "epoch"
  - ${args}